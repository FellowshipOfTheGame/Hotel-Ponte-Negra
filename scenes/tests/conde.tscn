[gd_scene load_steps=13 format=3 uid="uid://dd1n0jr2xnqid"]

[ext_resource type="Script" uid="uid://cmqntwm37cob6" path="res://scripts/menus/base.gd" id="1_oohtk"]
[ext_resource type="Script" uid="uid://c1ivo2guoa08g" path="res://scripts/camera/cameraControllerStatic.gd" id="2_jxpou"]
[ext_resource type="PackedScene" uid="uid://csmmjcndfe1ns" path="res://scenes/characters/player/player.tscn" id="3_dki8q"]
[ext_resource type="PackedScene" uid="uid://cd83n5sdks3b0" path="res://scenes/characters/enemies/enemy.tscn" id="5_ctr4l"]
[ext_resource type="Script" uid="uid://bdryq6vcuwtuq" path="res://scripts/objects/key/key.gd" id="5_oohtk"]
[ext_resource type="Script" uid="uid://llageokj3e5q" path="res://scripts/objects/door/door.gd" id="6_jxpou"]

[sub_resource type="Environment" id="Environment_pvqg0"]
background_mode = 1
background_color = Color(0.186325, 2.40654e-05, 0.186323, 1)
ambient_light_source = 2
ambient_light_color = Color(0.41278, 0.429387, 0.366938, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h5ip5"]
transparency = 1

[sub_resource type="SphereMesh" id="SphereMesh_l40xk"]

[sub_resource type="SphereShape3D" id="SphereShape3D_l40xk"]

[sub_resource type="BoxMesh" id="BoxMesh_jxpou"]
size = Vector3(1, 2, 0.2)

[sub_resource type="BoxShape3D" id="BoxShape3D_dki8q"]

[node name="Node3D" type="Node3D"]
script = ExtResource("1_oohtk")

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("alvo_jogador")]
transform = Transform3D(1, 0, 0, 0, 0.7071068, 0.7071068, 0, -0.7071068, 0.7071068, -10.25, 27.26974, 25.507826)
script = ExtResource("2_jxpou")
alvo_jogador = NodePath("../Player")

[node name="Player" parent="." node_paths=PackedStringArray("cam") groups=["Player"] instance=ExtResource("3_dki8q")]
cam = NodePath("../Camera3D")

[node name="Enemy" parent="." groups=["Enemies"] instance=ExtResource("5_ctr4l")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6711674, -0.25369763, -4.9404106)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.840614, 0.541635, 0, -0.541635, 0.840614, 0, 9.18064, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_pvqg0")

[node name="Ground" type="CSGBox3D" parent="."]
transform = Transform3D(0.99999994, -0.0002443461, 0, 0.0002443461, 0.99999994, 0, 0, 0, 1, 0.027899265, -1.395859, 0.5424385)
use_collision = true
collision_mask = 3
size = Vector3(50, 0.1, 50)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
material_override = SubResource("StandardMaterial3D_h5ip5")
use_collision = true
collision_mask = 3

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, -0.9, -15)
polygon = PackedVector2Array(0, 0, 30, 0, 30, 5, 5, 5)
depth = 4.0

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="CSGCombiner3D"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 15, -0.9, 11)
polygon = PackedVector2Array(0, 0, 30, 0, 30, 5, 0, 5)
depth = 4.0

[node name="Tunnel" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, -0.1, 0)
operation = 2
size = Vector3(4.1, 3, 3)

[node name="Key" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.6238136, 0.42027068, 0)
script = ExtResource("5_oohtk")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Key"]
mesh = SubResource("SphereMesh_l40xk")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Key"]
shape = SubResource("SphereShape3D_l40xk")

[node name="Door" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.450874, -0.087774515, 0)
script = ExtResource("6_jxpou")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Door"]
mesh = SubResource("BoxMesh_jxpou")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door"]
shape = SubResource("BoxShape3D_dki8q")
